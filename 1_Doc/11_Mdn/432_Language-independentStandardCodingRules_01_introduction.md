# クリーンコード入門・導入

## なぜクリーンコードを学ぶ必要があるのか？

クリーンコードとは以下のような特徴を持ったコードのことを指します。

- 他人が読みやすい
- 新規機能の追加が簡単に行える
- 修正によるバグの混入がしづらい

**クリーンコードを学ぶことで他の開発者から愛されるコードを書くことができます。**

### 「他人が読みやすい」コードとは？

コードの意味が分かりやすい。コードは文章のように意味を伝えるように書くことができます。

**私はいつものように手早くランチを食べて会社に戻った。**

※この文章では「私はいつも通りランチを早く食べた後で会社に戻った」と読めます。

ただ、この文章では

- **いつものように手早くランチを食べたのか**
- **いつものように会社に戻ったのか**

どちらの意味でも捉えることができてしまいます。

**私は、手早くランチを食べて、いつものように会社に戻った。**
このような記述の場合はどうでしょうか？「いつものように」は会社に戻るという行為に掛かっていることは明らかになり、誤解なく読者に意図を伝えることができます。

このように日本語の文章と同じように
**プログラムにおいても、読む人に伝わりやすいコード、伝わりにくいコードというものは存在します。**

クリーンコードを書くことによってコード読者に

**コードの意図を正しく伝え、意図しない変更やコードリーディングにおける負荷を下げることができます。**

### 伝わりやすいコードの特徴

- 読んでいて疲れない。
- 識別子（変数、関数、クラスの名前のこと）が適切な名前になっている。
- 無駄な部分まで読む必要がない。
- バグが混入しにくい。
- 改修箇所が限定される。
- 改修による既存のコードへの影響が限定される。
- 新規機能の追加が行いやすい。
- 冗長な記述がない。
- テストがしやすい。
- コードの流れに一連の文脈が存在する。

## クリーンコードとコメント

### コメントはなるべく書かない

コメントはなるべく書かない。コードで実装の意図を伝えること。

コードはただ動けばよいものではなく、他の人に読まれるものという意識を持ちましょう。

### なぜコメントではなくコードで意図を伝えるのか？

- コメントを書く際、冗長な場合が多々あるため。
- コメントが必ずメンテナンスされているとは限らないため。
- コメントが挙動と逆の説明になっている可能性（間違って書かれている可能性）があるため。
- コメントよりもコードの方が挙動を正確に表現できるため。コードが全て。
- Gitなどのバージョン管理システムの発展により、変更履歴を事細かにコメントに残す必要がなくなったため。

**コードによって何を意図した実装なのかを伝えるのが最も効率的、かつ確実な方法となる。**

## クリーンコードを学ぶメリット

### チーム開発がより効率的になります

大きなプロジェクトでは影響調査などを行う工数はコードを書いている時間より長い場合があります。  

**そのくらい人のコードを読むのに充てる時間が大きいため、所謂コードが綺麗な人は重宝がられます。**

### ポートフォリオコードを自信を持って提出できます

転職時などに提出するポートフォリオのコードが綺麗だとそれだけである程度の安心感があります。

**チーム開発の際には、コードを綺麗に書けると重宝がられます。**

### コードが整理できるようになります

他の人に読みやすいコードは後から自分で読む際にも助かる。時間が経つと自分のコードでも訳が分からなくなるケースは多々あります。

**１人で開発を行う際も後から読んで意味の分かるコードを記述することができるようになります。**

### 意識しなくても綺麗に書けるようになってきます

早い段階でクリーンコードをどう書くのかを知ることによって、以降の学習の中で練習できます。

**意識するのとしないのでは上達の速度が変わってきます。何となく書いていると少しずつしか練度が上がっていきません。**

### コードレビューに役立ちます

職場でコードレビューを行う際にも気を付けて見るべき点が明確になっていきます。

**後輩のコードレビュー等でも見るべき点が分かってきます。**

### 本コースを学ぶことによって得られる効果

- 綺麗なコードを書くための指針を得ることができます。
- 今後、学習を進める中で気を付けるべき点が分かります。
- 自分のコードに落胆することが少なくなります。
- 同僚（未来の同僚）に好かれます。
- チーム開発が円滑に進むようになります。
- コードレビューの基準を得ることができます。
- ポートフォリオのコードを自信を持って提出できるようになります。

## クリーンコードが優先されないケース

次に挙げるケースではクリーンコードは無視される可能性があります。

### パフォーマンスが優先されるケース

パフォーマンスの出るコードは汚いコードになる可能性があります。

```js
// 通常のループ
for (let i = 0; i < 1e5; i++) {}
// リバースループ
for (let i = 1e5 - 1; i >= 0; i--) {}

// リバースループの方が処理は早い
```

**パフォーマンスとコードの美しさは必ずしも合致しないため注意！**

### 速度重視の開発

速度重視の開発が求められる際にはクリーンコードとしてソースを保つことよりも、開発速度が重視される場合もあります。

きれいに書くということは、その分コストがかかるため、特にサービスの利益が出るかわからないテストマーケティング的な要素が強いアプリではクリーンコードが求められないケースがあります。

ただ普段からクリーンコードを意識していると、開発スピードを落とさず（むしろ、コードが見やすく整理されるため、通常より早い速度で）コーディングを行うことができます。

また、長期に保守される可能性の高いプロジェクト（大企業の社内システムなど）では**綺麗にコードが書ける人**は重宝がられます。

## 本コースの進め方と注意点

### 本コースは【基礎】と【発展】に分かれています

基礎は初心者向け、発展は中級者向けになっています。初心者の方でも発展の問題に取り組んで頂いて結構ですが、出来なくても落ち込む必要はありません。初心者の方はまず基礎が出来るように心がけてみてください。

**発展にはレクチャー名、もしくはセクション名の先頭に【発展】とついています。それ以外は基礎となります。**

**【基礎】プログラミングを始めたばかりの人も注意すべき点**
**【発展】プログラミングを初めて１年～２年目くらいで意識するべき点**

### 本コースの注意点

基本的には**関数型プログラミング**や**オブジェクト指向型プログラミング**を学ぶコースではありません。
※一部、紹介しています。

- **関数型プログラミング**
  データの状態と処理を切り分け、関数ベースでコードを整理していくプログラミング手法
  ⇒「関数」の章で簡単に紹介

- **オブジェクト指向型プログラミング**
  データの状態と処理をクラスにまとめ、クラスベースでコードを整理していくプログラミング手法
  ⇒「クラス、SOLID」の章で簡単に紹介

**クリーンコードは読みやすいコードを書く上での普遍的なルールのため、どのようなプログラミング手法をとっても役立ちます。**

### 本コースで紹介するコードの実行は行わない

あくまで、クリーンコードを書くためのノウハウを学ぶためのコースのため、コードの実行は基本的に行いません。また、アプリケーション等の作成も行いませんのでご了承ください。

## 本コースのコードを実行する方法

本レクチャーのコードは基本的には実行用に作成していません。
ただ、実行できるような状態のコードも存在します。
もし、そのようなコードを実行して挙動を確認したい場合には次の方法で実行してください。

### Node.js でコードの挙動を確認する方法

1. [Node.js](https://nodejs.org/ja/)のLTS版をダウンロードします。
2. JavaScriptファイルを作成します。（bad.js、good.jsなど）
3. Terminalを開きます。
4. 次のコマンドを実行します。

   ```sh
   # node {ファイルまでのパス}
   node bad.js
   ```

5. ターミナルに実行ログが表示されます。

## 引用文献

> [プログラミング中級者になりたい人のためのクリーンコード入門_Udemy_CodeMafia](https://www.udemy.com/course/clean-code-tutorial/learn/lecture/34443676?start=0#overview)
